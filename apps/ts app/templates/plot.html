<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<div id="plot_div" style="width: 100%; height: 50%"></div>

<script type="text/javascript">
var xData = {{ plot_data.x_axis1 }}

var yData = {{ plot_data.y_axis1 }}

var len = {{plot_data.len1}}

var colors = ['rgba(67,67,67,1)', 'rgba(49,130,189, 1)'];

var lineSize = [2, 2];

var labels = ['Loss', 'Val Loss'];

var data = [];

for ( var i = 0 ; i < xData.length ; i++ ) {
  var result = {
    x: xData[i],
    y: yData[i],
    type: 'scatter',
    mode: 'lines',
    line: {
      color: colors[i],
      width: lineSize[i]
    }
  };
  var result2 = {
    x: [xData[i][0], xData[i][len]],
    y: [yData[i][0], yData[i][len]],
    type: 'scatter',
    mode: 'markers',
    marker: {
      color: colors[i],
      size: 12
    }
  };
  data.push(result, result2);
}

var layout = {
  showlegend: false,
  height: 400,
  width: 1200,
  xaxis: {
    showline: true,
    showgrid: false,
    showticklabels: true,
    linecolor: 'rgb(204,204,204)',
    linewidth: 2,
    autotick: false,
    ticks: 'outside',
    tickcolor: 'rgb(204,204,204)',
    tickwidth: 2,
    ticklen: 5,
    tickfont: {
      family: 'Arial',
      size: 12,
      color: 'rgb(82, 82, 82)'
    }
  },
  yaxis: {
    showgrid: true,
    zeroline: false,
    showline: false,
    showticklabels: true
  },
  autosize: false,
  margin: {
    autoexpand: false,
    l: 100,
    r: 100,
    t: 100
  },
  annotations: [
    {
      xref: 'paper',
      yref: 'paper',
      x: 0.0,
      y: 1.05,
      xanchor: 'left',
      yanchor: 'bottom',
      text: 'Training Loss VS. Validation Loss',
      font:{
        family: 'Arial',
        size: 30,
        color: 'rgb(37,37,37)'
      },
      showarrow: false
    },
    {
      xref: 'paper',
      yref: 'paper',
      x: 0.5,
      y: -0.1,
      xanchor: 'center',
      yanchor: 'top',
      text: 'Epochs',
      showarrow: false,
      font: {
        family: 'Arial',
        size: 12,
        color: 'rgb(150,150,150)'
      }
    }
  ]
};

for( var i = 0 ; i < xData.length ; i++ ) {
  var result = {
    xref: 'paper',
    x: 0.05,
    y: yData[i][0],
    xanchor: 'right',
    yanchor: 'middle',
    text: labels[i] + ' ' + yData[i][0],
    showarrow: false,
    font: {
      family: 'Arial',
      size: 16,
      color: 'black'
    }
  };
  var result2 = {
    xref: 'paper',
    x: 0.95,
    y: yData[i][len],
    xanchor: 'left',
    yanchor: 'middle',
    text: yData[i][len],
    font: {
      family: 'Arial',
      size: 16,
      color: 'black'
    },
    showarrow: false
  };

  layout.annotations.push(result, result2);
}

Plotly.newPlot('plot_div', data, layout);
</script>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<div id="plot_div_2" style="width: 100%; height: 50%"></div>

<script type="text/javascript">
var xData = {{ plot_data.x_axis2 }}

var yData = {{ plot_data.y_axis2 }}

var len = {{plot_data.len2}}

var colors = ['rgba(67,67,67,1)', 'rgba(49,130,189, 1)'];

var lineSize = [2, 2];

var labels = ['Actual', 'Prediction'];

var data = [];

for ( var i = 0 ; i < xData.length ; i++ ) {
  if (i == 0) {
    name = "actual";
} else {
  name = "predict";
}
  var result = {
    x: xData[i],
    y: yData[i],
    type: 'scatter',
    mode: 'lines',
    name: name,
    line: {
      color: colors[i],
      width: lineSize[i]
    }
  };
  data.push(result);
}

var layout = {
  showlegend: true,
  height: 400,
  width: 1200,
  xaxis: {
    showline: false,
    showgrid: false,
    showticklabels: false,
    linecolor: 'rgb(204,204,204)',
    linewidth: 2,
    autotick: false,
    ticks: 'outside',
    tickcolor: 'rgb(204,204,204)',
    tickwidth: 2,
    ticklen: 5,
    tickfont: {
      family: 'Arial',
      size: 4,
      color: 'rgb(82, 82, 82)'
    }
  },
  yaxis: {
    showgrid: true,
    zeroline: false,
    showline: false,
    showticklabels: true
  },
  autosize: false,
  margin: {
    autoexpand: false,
    l: 100,
    r: 100,
    t: 100
  },
  annotations: [
    {
      xref: 'paper',
      yref: 'paper',
      x: 0.0,
      y: 1.05,
      xanchor: 'left',
      yanchor: 'bottom',
      text: 'Actual VS. Predictions',
      font:{
        family: 'Arial',
        size: 30,
        color: 'rgb(37,37,37)'
      },
      showarrow: false
    },
    {
      xref: 'paper',
      yref: 'paper',
      x: 0.5,
      y: -0.1,
      xanchor: 'center',
      yanchor: 'top',
      text: 'Time',
      showarrow: false,
      font: {
        family: 'Arial',
        size: 12,
        color: 'rgb(150,150,150)'
      }
    }
  ]
};

Plotly.newPlot('plot_div_2', data, layout);
</script>